<h1 mat-dialog-title>Importer un fichier</h1>

<mat-dialog-content>
  <ngx-dropzone (change)="onSelect($event)" class="exportdata-dropzone">
    <div class="exportdata-trigger">
      <p class="exportdata-instruction">Choose a file with a size up to 2MB.</p>
      <button class="exportdata-drag-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
Select files      </button>
      
      <input #fileInput type="file" class="hidden" (change)="onFileChange($event)" accept=".xlsx,.xls,.csv">
    </div>
    
    <div class="exportdata-previews">
      <div *ngFor="let file of file" class="exportdata-preview-item">
        <div class="exportdata-preview-item-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"/>
            <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
            <path d="m5 12-3 3 3 3"/>
            <path d="m9 18 3-3-3-3"/>
          </svg>
        </div>
        <span class="exportdata-preview-item-name">{{ file.name }}</span>
        <button (click)="onRemove(file)" class="exportdata-remove-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </ngx-dropzone>

  <p class="text-danger text-sm mt-2">{{ uploadMessage }}</p>

  <mat-dialog-actions alig="end">
    <button mat-button (click)="close()">Annuler</button>
    <button mat-flat-button color="primary" (click)="onUpload()" [disabled]="uploading">
      {{ uploading ? 'Importation...' : 'Importer' }}
    </button>
  </mat-dialog-actions>
</mat-dialog-content>