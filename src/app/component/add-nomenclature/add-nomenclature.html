<div class="stepper-container" id="wizard-validation">
  
  <ul class="stepper-nav">
    <li class="stepper-item" 
        [class.active]="currentStep === 1"
        [class.completed]="isStepCompleted(1)"
        [class.error]="currentStep > 1 && !isStepValid(1)">
      <span class="stepper-header">
        <span class="stepper-circle">
          <span class="stepper-number" *ngIf="!isStepCompleted(1)">1</span>
          <span class="icon-[tabler--check] stepper-check-icon" *ngIf="isStepCompleted(1)"></span>
          <span class="icon-[tabler--x] stepper-error-icon" *ngIf="currentStep > 1 && !isStepValid(1)"></span>
        </span>
        <span class="stepper-title">Goods nomenclature information (Fr)</span>
      </span>
      <div class="stepper-line"></div>
    </li>
    
    <li class="stepper-item" 
        [class.active]="currentStep === 2"
        [class.completed]="isStepCompleted(2)"
        [class.error]="currentStep > 2 && !isStepValid(2)">
      <span class="stepper-header">
        <span class="stepper-circle">
          <span class="stepper-number" *ngIf="!isStepCompleted(2)">2</span>
          <span class="icon-[tabler--check] stepper-check-icon" *ngIf="isStepCompleted(2)"></span>
          <span class="icon-[tabler--x] stepper-error-icon" *ngIf="currentStep > 2 && !isStepValid(2)"></span>
        </span>
        <span class="stepper-title">Goods Nomenclature Details (FR)</span>
      </span>
      <div class="stepper-line"></div>
    </li>
    
    <li class="stepper-item" 
        [class.active]="currentStep === 3"
        [class.completed]="isStepCompleted(3)">
      <span class="stepper-header">
        <span class="stepper-circle">
          <span class="stepper-number" *ngIf="!isStepCompleted(3)">3</span>
          <span class="icon-[tabler--check] stepper-check-icon" *ngIf="isStepCompleted(3)"></span>
        </span>
        <span class="stepper-title">Social Links</span>
      </span>
    </li>
  </ul>

  <form [formGroup]="form" class="stepper-form" (ngSubmit)="onSubmit()">
    
    <div class="stepper-step" *ngIf="currentStep === 1">
      <div class="form-group">
        <input 
          formControlName="code" 
          type="number" 
          placeholder="Code (FR)*" 
          class="input"
          [class.error]="hasError('code')"
          id="code" />
        <div class="error-message" *ngIf="hasError('code')">
          Le code est requis
        </div>
      </div>

      <div class="form-group">
        <input 
          formControlName="suffix" 
          type="number" 
          placeholder="Product Line Suffix (FR)*" 
          class="input"
          [class.error]="hasError('suffix')"
          id="suffix" />
        <div class="error-message" *ngIf="hasError('suffix')">
          Le suffixe est requis
        </div>
      </div>

      <div class="form-group">
        <input 
          formControlName="statisticalIndicator" 
          type="text" 
          placeholder="Statistical Indicator (FR)" 
          class="input" 
          id="statisticalIndicator" />
      </div>

      <div class="form-group">
        <input 
          formControlName="startDate" 
          type="date" 
          class="input"
          [class.error]="hasError('startDate')"
          id="startDate" 
          placeholder="Start Date (FR)" />
        <div class="error-message" *ngIf="hasError('startDate')">
          La date de début est requise
        </div>
      </div>

      <div class="form-group">
        <input 
          formControlName="endDate" 
          type="date" 
          class="input"
          [class.error]="hasError('endDate')"
          id="endDate" 
          placeholder="End Date (FR)" />
        <div class="error-message" *ngIf="hasError('endDate')">
          La date de fin est requise
        </div>
      </div>

      <div class="checkbox-group">
        <label class="checkbox-label">
          <input 
            formControlName="national" 
            type="checkbox" 
            name="national"> 
          National (FR)
        </label>
        
        <label class="checkbox-label">
          <input 
            formControlName="declarable" 
            type="checkbox" 
            name="declarable"> 
          Declarable (FR)
        </label>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="stepper-step" *ngIf="currentStep === 2">
      <h3>Step 2 Content</h3>
      <p>Ajoutez ici le contenu du step 2</p>
      <!-- Ajoutez vos champs pour le step 2 -->
    </div>

    <!-- Step 3 -->
    <div class="stepper-step" *ngIf="currentStep === 3">
      <h3>Step 3 Content</h3>
      <p>Ajoutez ici le contenu du step 3</p>
      <!-- Ajoutez vos champs pour le step 3 -->
    </div>

    <!-- Message final -->
    <div class="stepper-final" *ngIf="currentStep > 3">
      <h3>Your Form has been Submitted</h3>
      <p>Toutes les informations ont été enregistrées avec succès.</p>
    </div>

    <!-- Boutons de navigation -->
    <div class="stepper-buttons">
      <button 
        type="button" 
        (click)="previousStep()" 
        class="btn-prev"
        [disabled]="currentStep === 1">
        Back
      </button>
      
      <button 
        type="button" 
        (click)="nextStep()" 
        class="btn-next"
        *ngIf="currentStep < 3">
        Next
      </button>
      
      <button 
        type="submit" 
        class="btn-finish"
        *ngIf="currentStep === 3">
        Finish
      </button>
      
      <button 
        type="button" 
        (click)="onReset()" 
        class="btn-reset">
        Reset
      </button>
      
      <button 
        type="button" 
        (click)="onClose()" 
        class="btn-close">
        Close
      </button>
    </div>
  </form>
</div>